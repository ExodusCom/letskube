apiVersion: kubeadm.k8s.io/v1alpha1
kind: MasterConfiguration
api:
  advertiseAddress: {{ internal_net_ip }}
  bindPort: 6443
etcd:
  endpoints:
{%- for h in etcd_hosts %}
  - https://{{ h.addr }}:2379
{%- endfor %}
  caFile: /etc/ssl/etcd/ca.pem
  certFile: /etc/ssl/etcd/etcd-client.pem
  keyFile: /etc/ssl/etcd/etcd-client-key.pem
apiServerCertSANs:
  - 127.0.0.1
  - 172.16.150.1
kubeProxy:
  config:
    mode: ipvs
networking:
  serviceSubnet: 10.96.0.0/12
  podSubnet: 10.244.0.0/16
